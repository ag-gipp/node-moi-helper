% from http://emis.mi.sanu.ac.rs/zmath/mirror/tex/
% (c) 1999 Cellule Mathdoc, UJF & CNRS
% zbpdfwww.tex 99/8 /14
% macros for use with pdftex + amstex + standard  zblmacro.tex  



%********************************************************************
%
%                  dateiname: zblmacro.tex  
%
%********************************************************************
%
%       Diese Datei enth\"alt die \TeX-Makros, die vom 
%       Zentralblatt f\"ur Mathematik benutzt werden.
%       
%       This file contains a few \TeX-macros used by Zbl.
%
%********************************************************************

\newdimen\varopboxw       % Breite des Kissens
\newdimen\halfvaropboxw   % halbe Breite des Kissens
\newdimen\varopboxh       % Hoehe des Kissens
\newdimen\halfvaropboxh   % halbe Hoehe des Kissens
\newdimen\circlewidth     % die Breite, also der Durchmesser des Kreises
\newdimen\strichw         % Breite eines Diagonal-"Punktes"
\newdimen\strichh         % Hoehe eines Diagonalen-"Punktes"
\newdimen\centervicinity  % horizontaler Abstand der
                          % Diagonalenpunkte vom Zentrum
\newdimen\leftofline      % was links von der Linie liegt 
\newdimen\rightofline     % was rechts von der Linie liegt
\newdimen\betweenlines    % was zwischen den Linien liegt 

% ende des Dimensionen - Blocks

% -------------------------------------------------------------------------

\def\sterling{{\it \$}}   % die britische Waehrung 
\def\pound{{\it \$}}      % auch die britische Waehrung

% das Tagesdatum in der dd.mm.yy-Schreibweise

\def\datum{\number\day.\number\month.\number\year}

% das Tagesdatum (deutsche Schreibweise):

\def\heute{\number\day .
   \ifcase \month \or
   Januar \or Februar \or M\"arz \or April \or
   Mai \or Juni \or Juli \or August \or
   September \or Oktober \or November \or Dezember \fi
   \space \number\year}

% das Tagesdatum (engl.-amerik. Schreibweise):

\def\today{\ifcase \month \or
   January \or February \or March \or April \or
   May \or June \or July \or August \or
   September \or October \or November \or December \fi
   \space\number\day , \number\year}

% ------------------------------------------------------------------------
% einige Hilfsmittel zur Gestaltung (some small typesetting aids):

\def\newl{\hfill\break}                           % neue Zeile; new line
\def\newli{\hfill\break\indent}                   % neue Zeile mit Einz.
\def\newp{\vfill\eject}                           % neue Seite; new page
\def\filbox{\strut\hfil\strut}                    % Auffuellbox mit \strut
\def\verygoodbreak{\par\penalty-2500}             % "gute" Umbruchstelle; 
\def\supergoodbreak{\par\penalty-5000}            % "sehr gute" Umbruchstelle
\def\extremelygoodbreak{\par\penalty-7500}        % "extrem gute" Umbruchstelle

% dreifach-Itemization (triple itemization):

\def\itemitemitem#1{\par
   \indent\indent
   \hangindent3\parindent
   \textindent{#1}}

% ------------------------------------------------------------------------
% miscellaneous: 

\def\house#1{\vbox{%
        \hrule%
        \hbox{%
                \vrule%
                \hskip2pt%
                \vbox{%
                        \vskip2pt{}%
                        \hbox{$#1$}%
                        }%
                \hskip2pt%
                \vrule%
                }%
        }}

\def\circover#1{\overset\circ\to#1}               % Kringel (Sobolev-Raeume);
                                           % a small circle set over something 
                                           % (Sobolev spaces)

\def\circsigma{\bigcirc\kern-.8em\sigma\kern.25em}% eingekreistes sigma


\def\circdiv{\kern-.25em\bigcirc\kern-1.125em\div\kern.3em}
                                                  % eingekreistes "div"-Symbol (\div)

\def\circast{\kern-.2em\bigcirc\kern-1em\ast\kern.35em}
                                                  % eingekreistes "ast"-Symbol; 
                                                  % circled as asterisk

\def\downplus{\mathop{{}\atop+}}
\def\downdots{\mathop{{}\atop\cdots}}
\def\Hom{\hbox{Hom}}
\def\Aut{\hbox{Aut}}

\def\ttimes{\times\kern-.75em\times}            % doppeltes Malkreux

\def\dualrightarrow{\mathrel{>\kern-.5em-}}     % dualer Pfeil nach rechts, 
                                                % Spitze und Schaft
                                                % sind vertauscht
                                              % dual right arrow, with head and tail exchanged
\def\dualleftarrow{\mathrel{-\kern-.5em<}}      % dualer Pfeil nach links, 
                                                % Spitze und Schaft
                                                % sind vertauscht
                                              % dual left arrow, with head and tail exchanged

\def\lvdash{\mathrel{\mapstochar\kern-.3em-}}
              % "langes" \vdash; long version of \vdash
\def\ldashv{\mathrel{-\kern-.44em\mapstochar\kern.22em}}
                        % "langes" \dashv; long version of \dashv


\def\varotimes{\mathop{%
   \varopboxw=.66em
   \varopboxh=.66em
   \halfvaropboxw=.5\varopboxw%
   \circlewidth=.2\varopboxw%
   \vbox to \varopboxh{\hsize=1\varopboxw%
      \baselineskip=.4pt%
      \centervicinity=1\halfvaropboxw%
      \advance\centervicinity by -.4pt
      \leftofline=0pt%
      \betweenlines=1\varopboxw%
      \advance\betweenlines by -0.8pt%
      \vglue0pt%
      \loop \ifdim \centervicinity>\circlewidth%
         {\rightofline=1\leftofline%
          \line{\hss%
                \vrule width\leftofline height0pt depth0pt%
                \vrule width.4pt height.4pt depth0pt%
                \vrule width\betweenlines height0pt depth0pt%
                \vrule width.4pt height.4pt depth0pt%
                \vrule width\rightofline height0pt depth0pt% 
                \hss}%
         }%
         \advance\leftofline by 0.4pt%
         \advance\centervicinity by -0.4pt%
         \advance\betweenlines by -0.8pt%
      \repeat%
      \vss%
      \centerline{{$\circ$}}%
      \vss%
      \loop \ifdim \centervicinity<\halfvaropboxw%
         {\rightofline=1\leftofline%
          \line{\hss%
                \vrule width\leftofline height0pt depth0pt%
                \vrule width.4pt height.4pt depth0pt%
                \vrule width\betweenlines height0pt depth0pt%
                \vrule width.4pt height.4pt depth0pt%
                \vrule width\rightofline height0pt depth0pt% 
                \hss}%
         }%
         \advance\leftofline by -0.4pt%
         \advance\centervicinity by 0.4pt%
         \advance\betweenlines by 0.8pt%
      \repeat%
      }}}%

\def\varoplus{\mathop{%
   \varopboxw=.9em
   \varopboxh=.8em
   \halfvaropboxw=.5\varopboxw%
   \halfvaropboxh=.5\varopboxh%
   \circlewidth=.21\varopboxw%
   \vbox to \varopboxh{\hsize=1\varopboxw%
      \baselineskip=.4pt%
      \centervicinity=1\halfvaropboxw%
      \advance\centervicinity by -.4pt
      \leftofline=1\halfvaropboxw%
      \advance\leftofline by -.2pt%
      \vglue0pt%
      \loop \ifdim \centervicinity>\circlewidth%
         {\rightofline=1\leftofline%
          \line{\hss%
                \vrule width\leftofline height0pt depth0pt%
                \vrule width.4pt height.4pt depth0pt%
                \vrule width\rightofline height0pt depth0pt% 
                \hss}%
         }%
         \advance\centervicinity by -0.4pt%
      \repeat%
      \vss%
      \line{-\hss{$\circ$}\hss-}%
      \vss%
      \loop \ifdim \centervicinity<\halfvaropboxh%
         {\rightofline=1\leftofline%
          \line{\hss%
                \vrule width\leftofline height0pt depth0pt%
                \vrule width.4pt height.4pt depth0pt%
                \vrule width\rightofline height0pt depth0pt% 
                \hss}%
         }%
         \advance\centervicinity by 0.4pt%
      \repeat%
      }}}%

%-------------------------------------------------------------
% Rueckdefinition von AMSTeX-Definitionen auf Plain-Gebrauch:

%\def\.{\D}
%\def\={\B}

%-------------------------------------------------------------
% Behandlung von typographischen Besonderheiten: 
 
\def\diagramjoinrel{\mathrel{\mkern-8mu}}
\def\diagramJoinrel{\mathrel{\mkern-13mu}}
\def\diagramrelbar{\relbar\joinrel\relbar}
\def\diagramRelbar{\Relbar\joinrel\Relbar}

\def\diagrbar{\diagramjoinrel\diagramrelbar\diagramjoinrel}     % fuer o---o
\def\diagrBar{\diagramjoinrel\diagramRelbar\diagramjoinrel}     % fuer o===o
\def\diagrBbBar{\diagrBar\diagrvert\diagrbar\diagrvert\diagrBar}% fuer o==--==o

\def\diagrvert{{\vrule height4pt depth-1.5pt width.6pt}}

\def\diagrBbBar{\diagramjoinrel%
        \diagramRelbar%
        \diagramjoinrel\diagrvert\diagramjoinrel%
        \diagramrelbar%
        \diagramjoinrel\diagrvert\diagramjoinrel%
        \diagramRelbar%
        \diagramjoinrel}

\def\diagramrelvbar{%
                \vrule width 2em height 4.5pt depth -4pt%
                \kern-2em%
                \vrule width.8em height 1pt depth-.5pt% 
                \vrule height 2.5pt depth1pt width .05em%
                \hglue.3em
                \vrule height 2.5pt depth1pt width .05em%
                \vrule width.8em height 1.5pt depth-1pt}

\def\diagrbvbar{\diagramjoinrel\diagramrelvbar\diagramjoinrel}


\def\tildediagrbar{%
   \diagramJoinrel{\widetilde{\diagramrelbar}}\diagramJoinrel}
\def\tildediagrBar{%
   \diagramJoinrel{\widetilde{\diagramRelbar}}\diagramJoinrel}

%\let \cal=\Cal %Moritz 2019-3-8 breaks other stuff
\let \germ=\frak


\let \.=\D
\let \==\B
%-------------------------------------------------------------
% Variante in der Blackboard Boldface-Auszeichnung:

\def\bbfA{{\Bbb A}}
\def\bbfB{{\Bbb B}}
\def\bbfC{{\Bbb C}}
\def\bbfD{{\Bbb D}}
\def\bbfE{{\Bbb E}}
\def\bbfF{{\Bbb F}}
\def\bbfG{{\Bbb G}}
\def\bbfH{{\Bbb H}}
\def\bbfI{{\Bbb I}}
\def\bbfJ{{\Bbb J}}
\def\bbfK{{\Bbb K}}
\def\bbfL{{\Bbb L}}
\def\bbfM{{\Bbb M}}
\def\bbfN{{\Bbb N}}
\def\bbfO{{\Bbb O}}
\def\bbfP{{\Bbb P}}
\def\bbfQ{{\Bbb Q}}
\def\bbfR{{\Bbb R}}
\def\bbfS{{\Bbb S}}
\def\bbfT{{\Bbb T}}
\def\bbfU{{\Bbb U}}
\def\bbfV{{\Bbb V}}
\def\bbfW{{\Bbb W}}
\def\bbfX{{\Bbb X}}
\def\bbfY{{\Bbb Y}}
\def\bbfZ{{\Bbb Z}}
% -----------------
\def\N{{\bbfN}}
\def\Q{{\bbfQ}}
\def\R{{\bbfR}}
\def\Z{{\bbfZ}}

% ------------------------------------------------------------------
% Sonderkonstruktionen bzw. -definitionen von Akzenten/Buchstaben

\def\uu{\accent'27u}                              % Kringel-u (in Anl. an \aa)
                                           % circled u, solved in accordance with Danish \aa
                                        % see also D.E. Knuth, The TeXbook, p. 356.

\def\UU{\accent'27U}                              % Kringel-U (in Anl. an \AA)
                                                  % siehe dazu auch:
                                                  % D.E.Knuth, The TeXbook, p. 356 
                                        % in accordance with the Danish \AA
                                                  % see also:
                                                  % D.E.Knuth, The TeXbook, p. 356 
                                        
\def\Dj{D\kern-.725em\raise.3ex\hbox{-}\kern.4em} % durchstrichenes D 
                                                  % dashed D, like in Djuro 
        
\def\dj{d\kern-.325em\raise.65ex\hbox{-}\kern.05em}% durchstrichenes d 
                                                  % dashed d, like in djuro 


{\catcode`\'=\active \gdef'{^\prime{}}}           %
                   % ' active machen, zum Bezeichnen von Ableitungen




\ifx\pdfoutput\undefined
\else
\pdfoutput=1
% repris de pdfcolor.tex
\def\Black{\pdfliteral{0 0 0 1 k}}
\def\Green{\pdfliteral{1 0 1 0 k}}
\def\ForestGreen{\pdfliteral{0.91 0 0.88 0.12 k}}
\def\Blue{\pdfliteral{1 1 0 0 k}}
\def\Red{\pdfliteral{0 1 1 0 k}}

% repris de latex.ltx
\catcode`\%=12
\def\ZMpercentchar{%}
\catcode`\%=14

% repris du paquet  hyperref (S. Rathz)

\edef\ZMhyperhash{\string#}
\edef\ZMhypertilde{\string~}
%\edef\ZMhyperamp{\string&}
\edef\ZMhyperquote{\string"}
\begingroup
  \catcode`\!\active
  \catcode`\&\active
  \catcode`\_\active
  \uccode`\!=`\%
  \uccode`\&=`\#%
\uppercase{\endgroup%
\def\hyperZMnormalise#1{%
\begingroup%
\catcode`\%\active\def!{\%}%
\catcode`\#\active\def&{\#}%
\catcode`\_\active\def_{\string_}%
\let~\ZMhypertilde%
\let\~\ZMhypertilde%
\hyperZMnZMrmalise#1}}
\def\hyperZMnZMrmalise#1#2{%
\edef\ZMtempa{\endgroup\noexpand#1{#2}}%
\ZMtempa}

\def\href{\hyperZMnormalise\hreff}
\def\hreff#1{\expandafter\hrefZM#1\\}

\def\hrefZM#1\\#2#3{\bgroup% 
\let\#\ZMhyperhash%
\let\%\ZMpercentchar%
\leavevmode%
\pdfstartlink     attr{/Border [0 0 0]/C [0 1 1]}  user{/Subtype /Link
    /A <<  /Type /Action
        /S /URI /URI (#1)
    >>}{{#3\relax #2\Black}}\pdfendlink%
\egroup%
}

\begingroup
\catcode `\% = 12
\xdef \URLcomma {%2C}
\endgroup

% \hoffset-2.2cm
% \voffset-1.5cm
\hoffset=0mm%-12mm
\voffset=0mm%-5mm

\pdfpagewidth=17.5cm%13.33cm%15cm
\pdfpageheight=24.75cm%20cm%22cm

\pdfcatalog {}  openaction goto page 1 {/FitBH}
\pdfcatalog{/ViewerPreferences << /HideToolbar true >>}

\fi
